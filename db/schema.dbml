table users as u {
  id integer [pk, increment]
  nickname varchar(100) [not null, unique]
  email varchar(100) [not null, unique]
  password varchar(100) [not null]
  created_at timestamp [not null, default: `now()`]
  role varchar(10) [ default: '']
  thumbnail_id integer [ref: > user_files.id, null]
}

table posts as p {
  id integer [pk, increment]
  users_id integer [ref: > u.id, not null]
  title varchar(300) [not null]
  content varchar(6000) [not null]
  content_slate varchar(6000)
  cate_id integer [ref: > cate.id]
  thumbnail_id integer [ref: > post_files.id]
  created_at timestamp [not null, default: `now()`]
}

table categories as cate {
  id integer [pk, increment]
  pos integer
  users_id integer [ref: > u.id]
  category_name varchar(150) [not null]
  parent_cate_id integer [ref: > cate.id]
}

table comments as cmt {
  id integer [pk, increment]
  posts_id integer [ref: > p.id]
  users_id integer [ref: > u.id]
  content varchar(1000) [not null]
  created_at timestamp [not null, default: `now()`]
}

Table user_files {
  id integer [pk, increment]
  original_filename varchar(255) [not null]
  stored_filename varchar(255) [not null]
  file_size bigint [not null]
  mime_type varchar(100)
  created_at timestamp [not null, default: `now()`]
  file_path varchar(1000) [not null]
  description text
  user_id integer [ref: > users.id, not null]
}

Table post_files {
  id integer [pk, increment]
  original_filename varchar(255) [not null]
  stored_filename varchar(255) [not null]
  file_size bigint [not null]
  mime_type varchar(100)
  created_at timestamp [not null, default: `now()`]
  file_path varchar(1000) [not null]
  description text
  post_id integer [ref: > posts.id, not null]
  user_id integer [ref: > users.id, not null]
}
